<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>NostalgiaRoom docs: testApp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nostalgia o black.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">NostalgiaRoom docs
   </div>
   <div id="projectbrief">nostalgia.media.mit.edu</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">testApp.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="test_app_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="test_app_8h.html">testApp.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#gad431db15b6150b965cd52bcba8e16e11">    3</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#gad431db15b6150b965cd52bcba8e16e11">testApp::setup</a>()</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    ofHideCursor();</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    ofBackground(0, 0, 0);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <a class="code" href="classtest_app.html#aa30f4f1db2d186466f97e6ca15169712">generateCircularSpiral</a>();</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <a class="code" href="classtest_app.html#aa93380112b906e2aac2d8738309b2d17">loadImagesandXMLData</a>();</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    ofSetLogLevel(OF_LOG_VERBOSE);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    ofSetFrameRate(200);</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifdef DEBUGMODE</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor"></span>    <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setDistance(200);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setFarClip(1000000);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setFov(40);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setFarClip(10000000);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(<a class="code" href="group___camera.html#gac01013264b9988207e7fd9e0a486ff2f" title="These variables will be useful if DEBUGMODE is defined. ">cameraStartPosition</a>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="group___camera.html#gab8a277e1055730fb5d6786ce0c4804b2" title="If set,this variable will start the Animation of the spiral zooming out. ">isstartingAnimationActive</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classtest_app.html#ad2fca6ce5e37462cd820afc48633324d" title="When set,this will start the overshot camera animation. ">startoverShotCameraAnimation</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="classtest_app.html#a846feea7c2c4d4b1929bb72c546b3e19" title="The whole starting Animation consists of a few Components.A video played at the start,The zooming out effect from the end of the spiral and an overshot animation that will take the Camera to the highest ranked image that will be shown first during the experience. The below data structures are for for the OvershotCameraAnimation. ">overshotCameraStartingPosition</a>=ofVec3f(0,0,0);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>=0;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="group___wiggle.html#gaaa5c2175be1d5ca404c3c23a898d0cdd">pushWigglePositions</a>();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>=0;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>=0;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    ofEnableAlphaBlending();    </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    ofSetBackgroundAuto(<span class="keyword">true</span>);    </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef USEWII</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// For debug purposes</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//cout &lt;&lt; &quot;listening for osc messages on port &quot; &lt;&lt; PORT &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    receiver.setup( <a class="code" href="test_app_8h.html#a614217d263be1fb1a5f76e2ff7be19a2" title="Comment USEWII to disable input from the wiimote. ">PORT</a> );</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    accel_x=accel_y=accel_z;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    Message=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;     accel=0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#ifdef ADJUSTTIMEGAP</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor"></span>    minAngularVelocity=10000;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    maxAngularVelocity=(-1000);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    minAccel=1000;maxAccel=-1000;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    State=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    fonttodisplayWiimoteValues.loadFont(<span class="stringliteral">&quot;Inconsolata.otf&quot;</span>, 20);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classtest_app.html#af696fd13ee9ecb38ac0ba0b72543ce06" title="This class plays the Bluementhal song by Ulrich Schnauss in the background while the user watches his...">BluementhalMp3</a>.loadSound(<span class="stringliteral">&quot;Blumenthal.mp3&quot;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classtest_app.html#af696fd13ee9ecb38ac0ba0b72543ce06" title="This class plays the Bluementhal song by Ulrich Schnauss in the background while the user watches his...">BluementhalMp3</a>.setVolume(1.0f);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>=6000; <span class="comment">// This is the default timeGap .Can be easily changed.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    ofSetFullscreen(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classtest_app.html#a51c20c5432d9f6b06f719526d9a34ee6" title="The current volume variable is generally set to 1 ,but if fadeAudio is enabled,it will reduce the aud...">currentVolume</a>=1;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classtest_app.html#a918c09b5a4389a8402cfacb25d390226" title="If set,this variable will cause the currentVolume variable to fade. ">fadeAudio</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classtest_app.html#aea3cb9f5f0061a42a4953d6b6c949036" title="Variable determines if the startingMovie has finished playing or not (initially set to false ) ...">startingMovieFinished</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.loadMovie(<span class="stringliteral">&quot;Intro_new.mov&quot;</span>, OF_QTKIT_DECODE_TEXTURE_ONLY);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.setLoopState(OF_LOOP_NONE);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    cout&lt;&lt;<a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.getDuration()&lt;&lt;endl;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    cout&lt;&lt;<a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.getWidth()&lt;&lt;<span class="stringliteral">&quot;    &quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.getHeight();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classtest_app.html#af5b1af55af2256ef3751de075fc7a9cc" title="previewText is used for loading the font Asyouwish.ttf ">previewText</a>.loadFont(<span class="stringliteral">&quot;asyouwish.ttf&quot;</span>,42);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classtest_app.html#acf09303bc452d2a38098f6bf94655408" title="If true,the ending variable will trigger the backward playing of the starting video and provides a ni...">ending</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#gafb39d201aec71a295b7609876bf7d0c6">   88</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#gafb39d201aec71a295b7609876bf7d0c6">testApp::update</a>(){</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Update the frame</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.update();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.getIsMovieDone())</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="classtest_app.html#aea3cb9f5f0061a42a4953d6b6c949036" title="Variable determines if the startingMovie has finished playing or not (initially set to false ) ...">startingMovieFinished</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.getCurrentFrame()==0&amp;&amp;<a class="code" href="classtest_app.html#acf09303bc452d2a38098f6bf94655408" title="If true,the ending variable will trigger the backward playing of the starting video and provides a ni...">ending</a>)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {cout&lt;&lt;<span class="stringliteral">&quot;ending&quot;</span>&lt;&lt;endl;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        ofExit();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    ofSoundUpdate();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#ifdef USEWII</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// Check if there are any pending messages to be received from OSCulator </span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">while</span>( receiver.hasWaitingMessages())</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span>(windowWidth == 0 || windowHeight == 0){</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            windowWidth = ofGetWidth();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            windowHeight = ofGetHeight();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Get the next message</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        ofxOscMessage m;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">float</span> x,y;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        receiver.getNextMessage( &amp;m );</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// For Debugging Purposes</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// cout&lt;&lt;m.getArgAsFloat( 0 )&lt;&lt;endl;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">if</span> ( m.getAddress() == <span class="stringliteral">&quot;/wii/2/ir/0&quot;</span> )</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            x = m.getArgAsFloat( 0 );</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            wiiX = x * windowWidth;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;x: &quot;</span> &lt;&lt; wiiX &lt;&lt; <span class="stringliteral">&quot; y: &quot;</span> &lt;&lt; wiiY &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m.getAddress() == <span class="stringliteral">&quot;/wii/2/ir/1&quot;</span> )</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            y = 1 - m.getArgAsFloat( 0 );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            wiiY = y * windowHeight;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;x: &quot;</span> &lt;&lt; wiiX &lt;&lt; <span class="stringliteral">&quot; y: &quot;</span> &lt;&lt; wiiY &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.getAddress() == <span class="stringliteral">&quot;/wii/1/accel/pry/1&quot;</span>) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            roll = m.getArgAsFloat(0);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.getAddress() == <span class="stringliteral">&quot;/wii/1/accel/pry/2&quot;</span>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            yaw = m.getArgAsFloat(0);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.getAddress() == <span class="stringliteral">&quot;/wii/1/accel/pry/0&quot;</span>) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            pitch = m.getArgAsFloat(0);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.getAddress() == <span class="stringliteral">&quot;/wii/1/accel/pry/3&quot;</span>) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            accel = m.getArgAsFloat(0);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m.getAddress()==<span class="stringliteral">&quot;/wii/1/accel/xyz/0&quot;</span>)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            accel_x=m.getArgAsFloat(0);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m.getAddress()==<span class="stringliteral">&quot;/wii/1/accel/xyz/1&quot;</span>)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            accel_y=m.getArgAsFloat(0);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m.getAddress()==<span class="stringliteral">&quot;/wii/1/accel/xyz/2&quot;</span>)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            accel_z=m.getArgAsFloat(0);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m.getAddress()==<span class="stringliteral">&quot;/wii/1/motion/velo/0&quot;</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            angular_velocity=m.getArgAsFloat(0);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor"></span>            cout &lt;&lt; <span class="stringliteral">&quot;unrecognized message: &quot;</span> &lt;&lt; m.getAddress() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span>(abs(angular_velocity*1000)&lt;400)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        prevAngVel=angular_velocity;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span>(abs(accel*1000)-200&gt;2&amp;&amp;!<a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="classtest_app.html#af696fd13ee9ecb38ac0ba0b72543ce06" title="This class plays the Bluementhal song by Ulrich Schnauss in the background while the user watches his...">BluementhalMp3</a>.play();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.play();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;Acceleration :&quot;</span>&lt;&lt;accel&lt;&lt;endl;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">#ifndef USEWII</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">//BluementhalMp3.play();</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.play();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a918c09b5a4389a8402cfacb25d390226" title="If set,this variable will cause the currentVolume variable to fade. ">fadeAudio</a>)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="classtest_app.html#a51c20c5432d9f6b06f719526d9a34ee6" title="The current volume variable is generally set to 1 ,but if fadeAudio is enabled,it will reduce the aud...">currentVolume</a>-=0.001;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classtest_app.html#af696fd13ee9ecb38ac0ba0b72543ce06" title="This class plays the Bluementhal song by Ulrich Schnauss in the background while the user watches his...">BluementhalMp3</a>.setVolume(<a class="code" href="classtest_app.html#a51c20c5432d9f6b06f719526d9a34ee6" title="The current volume variable is generally set to 1 ,but if fadeAudio is enabled,it will reduce the aud...">currentVolume</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#gaf869cba67b1dab8481f8d0e216d59dcd">  201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#gaf869cba67b1dab8481f8d0e216d59dcd">testApp::draw</a>()</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// Only if the wii-mote accelerates a bit i.e the swing moves or if the user presses &quot;Enter&quot;</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// Play the Movie first</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="classtest_app.html#aea3cb9f5f0061a42a4953d6b6c949036" title="Variable determines if the startingMovie has finished playing or not (initially set to false ) ...">startingMovieFinished</a>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.draw(0, 0);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#ifndef DEBUGMODE</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor"></span>            ofBackground(0, 0, 0);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            ofSetColor(255,255,255);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="comment">// If startinganimation is active,have the startingCameraAnimation or the overshotCameraPosition</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#gab8a277e1055730fb5d6786ce0c4804b2" title="If set,this variable will start the Animation of the spiral zooming out. ">isstartingAnimationActive</a>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="keywordflow">if</span>(!<a class="code" href="classtest_app.html#ad2fca6ce5e37462cd820afc48633324d" title="When set,this will start the overshot camera animation. ">startoverShotCameraAnimation</a>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(<a class="code" href="group___camera.html#ga1a97063e992528dc79867e516d9365f0">startAnimationCameraPosition</a>());</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">else</span> <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(<a class="code" href="group___camera.html#ga2a792bfdf269fd69951cbf97d4f574af">adjustoverShotCameraPosition</a>());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <a class="code" href="classtest_app.html#acb60fb8a89e9ec5d461630a20b11ceda" title="Time since Previous Transition/Animation. ">timesinceLastTransition</a>=ofGetElapsedTimeMillis();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="comment">//animationMode=true;</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">if</span>((ofGetElapsedTimeMillis()-<a class="code" href="classtest_app.html#acb60fb8a89e9ec5d461630a20b11ceda" title="Time since Previous Transition/Animation. ">timesinceLastTransition</a>)&gt;<a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>&amp;&amp;<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>!=0&amp;&amp;!<a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                 </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>--;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <span class="comment">//        cout&lt;&lt;&quot;The current camera index value is &quot;&lt;&lt;imageData[cameraindex].y&lt;&lt;endl;</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <a class="code" href="group___camera.html#ga21b16bdba744425519597fcb925df43a" title="Animation Counter that is operative while the animation is occuring. ">animationCounter</a>=0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <a class="code" href="classtest_app.html#acb60fb8a89e9ec5d461630a20b11ceda" title="Time since Previous Transition/Animation. ">timesinceLastTransition</a>=ofGetElapsedTimeMillis();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="comment">// If we are at the last image,or if the song is almost towards the end . End the experience by playing the startingMovie in reverse.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>==0||<a class="code" href="classtest_app.html#af696fd13ee9ecb38ac0ba0b72543ce06" title="This class plays the Bluementhal song by Ulrich Schnauss in the background while the user watches his...">BluementhalMp3</a>.getPosition()&gt;0.92)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <a class="code" href="classtest_app.html#aea3cb9f5f0061a42a4953d6b6c949036" title="Variable determines if the startingMovie has finished playing or not (initially set to false ) ...">startingMovieFinished</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    <a class="code" href="classtest_app.html#acf09303bc452d2a38098f6bf94655408" title="If true,the ending variable will trigger the backward playing of the starting video and provides a ni...">ending</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.setSpeed(-1); <span class="comment">// Reverse the video being played</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.play();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <a class="code" href="classtest_app.html#a918c09b5a4389a8402cfacb25d390226" title="If set,this variable will cause the currentVolume variable to fade. ">fadeAudio</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    <span class="comment">// Animate the camera from one index to another ..</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight()&gt;=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getWidth())</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(<a class="code" href="group___camera.html#ga1facfe2200dae7ad147b8f9ab31f68c6">animate</a>(<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>+1, <a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <span class="keywordflow">else</span> <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(<a class="code" href="group___camera.html#ga1facfe2200dae7ad147b8f9ab31f68c6">animate</a>(<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>+1, <a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>));</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    <span class="comment">// Depending on whether the image is more wide or tall,we set the camera&#39;s position to be at a fixed position from the image and also wiggle the position of the camera.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight()&gt;=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getWidth())</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>]+ofVec3f(0,0,1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight())+<a class="code" href="group___wiggle.html#gacd718eb54b9dc2b45e463414c24de6b9">wiggle</a>());</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    <span class="keywordflow">else</span> <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.setPosition(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>]+ofVec3f(0,0,1.05*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getWidth())+<a class="code" href="group___wiggle.html#gacd718eb54b9dc2b45e463414c24de6b9">wiggle</a>());</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor"></span>            </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.begin();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            ofPushMatrix();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            ofRotateX(180);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            ofPopMatrix();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="classtest_app.html#a6dbcb5f1e47c842dfd1ab6b188097677">drawImages</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="group___camera.html#ga0278ee237cbbd881252d6273b131bb55">camera</a>.end();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#ifdef USEWII</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor"></span>        </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// If acceleration is greater than a particular value ,Adjust the timegap or see if it is going backward or forward </span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span>(accel-0.2&gt;0.008&amp;&amp;accel!=0)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span>(angular_velocity&lt;=-0.03)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                ofSetColor(255, 0, 0);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">if</span>(State.compare(<span class="stringliteral">&quot;Front&quot;</span>)==0)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    <a class="code" href="classtest_app.html#a42478a80a90ce9f663c04bcdaea5c5bd" title="This variable is used to check if a half-swing is completed ,that is from back to front or from front...">isturnCompleted</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                State=<span class="stringliteral">&quot;Back&quot;</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(angular_velocity&gt;=0.03)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                ofSetColor(0,255, 0);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="comment">// fonttodisplayWiimoteValues.drawString(&quot;Front&quot;, ofGetWidth()/2,ofGetHeight()/2+50);</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">if</span>(State.compare(<span class="stringliteral">&quot;Back&quot;</span>)==0)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    <a class="code" href="classtest_app.html#a42478a80a90ce9f663c04bcdaea5c5bd" title="This variable is used to check if a half-swing is completed ,that is from back to front or from front...">isturnCompleted</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                State=<span class="stringliteral">&quot;Front&quot;</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#ifdef ADJUSTTIMEGAP</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor"></span>            </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">if</span>(angular_velocity&lt;minAngularVelocity)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                minAngularVelocity=angular_velocity;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span>(angular_velocity&gt;maxAngularVelocity)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                maxAngularVelocity=angular_velocity;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">if</span>(accel&lt;minAccel)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                minAccel=accel;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">if</span>(accel&gt;maxAccel&amp;&amp;accel*1000&lt;400)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                maxAccel=accel;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a42478a80a90ce9f663c04bcdaea5c5bd" title="This variable is used to check if a half-swing is completed ,that is from back to front or from front...">isturnCompleted</a>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="comment">// Adjust the time gap between 2 images.Depending upon the acceleration we adjust the timegap between 2 which 2 images are seen .</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                maxAccel*=1000;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="keywordflow">if</span>(maxAccel&gt;204&amp;&amp;maxAccel&lt;=214)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    <a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>=9000;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span>(maxAccel&gt;214&amp;&amp;maxAccel&lt;=224)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    <a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>=7500;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="keywordflow">if</span>(maxAccel&gt;224&amp;&amp;maxAccel&lt;=234)</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    <a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>=6000;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">if</span>(maxAccel&gt;234&amp;&amp;maxAccel&lt;=244)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    <a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>=5000;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">if</span>(maxAccel&gt;244&amp;&amp;maxAccel&lt;=254)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    <a class="code" href="classtest_app.html#a944f2713019239a4b49241a5cc9a00c9" title="Time that an image will be shown on the screen,this is controlled by the wii-motes acceleration...">timeGap</a>=4000;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                maxAccel=0;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <a class="code" href="classtest_app.html#a42478a80a90ce9f663c04bcdaea5c5bd" title="This variable is used to check if a half-swing is completed ,that is from back to front or from front...">isturnCompleted</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="comment">//        fonttodisplayWiimoteValues.drawString(ofToString(timeGap), ofGetWidth()/2+200, ofGetHeight()/2+50);</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor"></span>            </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        ofSetColor(255, 255, 255);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">/* Use these to get the Acceleration and Velocity values from the Wii-mote*/</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment">//    fonttodisplayWiimoteValues.drawString(&quot;Acceleration &quot;+ofToString(accel*1000), ofGetWidth()/2, ofGetHeight()/2+100);</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">//    fonttodisplayWiimoteValues.drawString(&quot;Velocity &quot;+ofToString(angular_velocity*1000), ofGetWidth()/2, ofGetHeight()/2+200);</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="comment">//   fonttodisplayWiimoteValues.drawString(&quot;Max Acceleration &quot;+ofToString(maxAccel*1000), ofGetWidth()/2, ofGetHeight()/2+250);</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="comment">//    fonttodisplayWiimoteValues.drawString(&quot;Max Velocity &quot;+ofToString(max*1000), ofGetWidth()/2, ofGetHeight()/2+350);</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">//     cout&lt;&lt;&quot;Acceleration &quot;&lt;&lt;accel*1000   &lt;&lt;&quot;\n Max Acceleration &quot;&lt;&lt;maxAccel*1000&lt;&lt;&quot;\n\n Min Acceleration &quot;&lt;&lt;minAccel&lt;&lt;endl;</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">//    cout&lt;&lt;&quot;\nAngular Velocity &quot;&lt;&lt;angular_velocity&lt;&lt;&quot;\n Max Velocity &quot;&lt;&lt;max*1000&lt;&lt;&quot;\n\n Min Velocity &quot;&lt;&lt;minAngularVelocity&lt;&lt;endl;;</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor"></span>        </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.draw(0, 0);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        ofSetColor(255, 255, 255);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="classtest_app.html#ad9a4beab6f2e0f13d32b00b502e89bdc" title="This string will display &quot;Start Swinging !&quot; at the start. ">tempText</a>=<span class="stringliteral">&quot;Start Swinging !&quot;</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="classtest_app.html#af5b1af55af2256ef3751de075fc7a9cc" title="previewText is used for loading the font Asyouwish.ttf ">previewText</a>.drawString(<a class="code" href="classtest_app.html#ad9a4beab6f2e0f13d32b00b502e89bdc" title="This string will display &quot;Start Swinging !&quot; at the start. ">tempText</a>, 500, <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.getHeight()-25);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga904d147c7e532cb92656d5dd4895cd26">  395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga904d147c7e532cb92656d5dd4895cd26">testApp::keyPressed</a>(<span class="keywordtype">int</span> key){</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span>(key==<span class="charliteral">&#39;f&#39;</span>||key==<span class="charliteral">&#39;F&#39;</span>)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        ofToggleFullscreen();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#ifndef DEBUGMODE</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key==OF_KEY_UP&amp;&amp;<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>!=<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>&amp;&amp;!<a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>++;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key==OF_KEY_DOWN&amp;&amp;<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>!=0&amp;&amp;!<a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>&amp;&amp;!<a class="code" href="group___camera.html#gab8a277e1055730fb5d6786ce0c4804b2" title="If set,this variable will start the Animation of the spiral zooming out. ">isstartingAnimationActive</a>&amp;&amp;!<a class="code" href="classtest_app.html#ad2fca6ce5e37462cd820afc48633324d" title="When set,this will start the overshot camera animation. ">startoverShotCameraAnimation</a>)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>--;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">//        cout&lt;&lt;&quot;The current camera index value is &quot;&lt;&lt;imageData[cameraindex].y&lt;&lt;endl;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="group___camera.html#ga21b16bdba744425519597fcb925df43a" title="Animation Counter that is operative while the animation is occuring. ">animationCounter</a>=0;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key==OF_KEY_RETURN&amp;&amp;!<a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="classtest_app.html#a8a65a6d1a473417cec1c2ac2e6116aae" title="This variable is used to start the installation if the user is swinging on the wii-mote or if the ent...">startInstallation</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="classtest_app.html#af696fd13ee9ecb38ac0ba0b72543ce06" title="This class plays the Bluementhal song by Ulrich Schnauss in the background while the user watches his...">BluementhalMp3</a>.play();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="classtest_app.html#a9bfe7793fa0689a991ff64174745c38f" title="Apparently,the ofQTKitPlayer plays HD Video better than ofVideoPlayer. ">startingMovie</a>.play();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;     cout &lt;&lt;<a class="code" href="classtest_app.html#aea3cb9f5f0061a42a4953d6b6c949036" title="Variable determines if the startingMovie has finished playing or not (initially set to false ) ...">startingMovieFinished</a>&lt;&lt;<span class="stringliteral">&quot;     &quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#ad2fca6ce5e37462cd820afc48633324d" title="When set,this will start the overshot camera animation. ">startoverShotCameraAnimation</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor"></span>        </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga1116a10088e4932f6d482efe723cd45e">  432</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga1116a10088e4932f6d482efe723cd45e">testApp::keyReleased</a>(<span class="keywordtype">int</span> key){</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga33541b19eff9f8285b2487bfc146d58b">  437</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga33541b19eff9f8285b2487bfc146d58b">testApp::mouseMoved</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y){</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga075bcc2be16fd8f3eaa9162fb40a0a1f">  442</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga075bcc2be16fd8f3eaa9162fb40a0a1f">testApp::mouseDragged</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> button){</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga3f200702ce91859cac2872a39302679d">  447</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga3f200702ce91859cac2872a39302679d">testApp::mousePressed</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> button){</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#gaa3680ffc782b1e5c451289817f20c9c6">  452</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#gaa3680ffc782b1e5c451289817f20c9c6">testApp::mouseReleased</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> button){</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga428b7df9c64352d6e7cb234fc297e6c9">  457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga428b7df9c64352d6e7cb234fc297e6c9">testApp::windowResized</a>(<span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h){</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#ga66dbc8c5c2d4e20febebe9fd42b8c851">  462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#ga66dbc8c5c2d4e20febebe9fd42b8c851">testApp::gotMessage</a>(ofMessage msg){</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">//--------------------------------------------------------------</span></div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="code" href="group___openframeworks_defaults.html#gaf15e9e9064fe5ccbe6c82cc401ae9e09">  467</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___openframeworks_defaults.html#gaf15e9e9064fe5ccbe6c82cc401ae9e09">testApp::dragEvent</a>(ofDragInfo dragInfo){</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="code" href="classtest_app.html#aa30f4f1db2d186466f97e6ca15169712">  471</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtest_app.html#aa30f4f1db2d186466f97e6ca15169712">testApp::generateCircularSpiral</a>()</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">int</span> spreadDistance=30;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">/* Conical Concentric Circles */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">//    for(int r=0;r&lt;200;r+=spreadDistance)</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="comment">//    {</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">//        for(float angle=0;angle&lt;=360;angle+=4)</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">//            SpiralPoints.push_back(ofVec3f(r*cos(ofDegToRad(angle)),r*sin(ofDegToRad(angle)),r));</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">//    }</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// Generating a Cylindrical Helix Structure ,equation adapted from http://www.mathematische-basteleien.de/spiral.htm .Few Tweaks have been made to get the right structure</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">float</span> height=10000,radius=200,ang_freq=3.2;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">float</span> angle=0;angle&lt;=3600;angle+=0.01)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordtype">float</span> angle2=angle;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>.push_back(ofVec3f(((height-angle2)/height)*radius*cos(ofDegToRad(ang_freq*angle2)),((height-angle2)/height)*radius*sin(ofDegToRad(ang_freq*angle2)),6*angle2));</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#ifndef DEBUGMODE</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor"></span>    <a class="code" href="group___camera.html#gac01013264b9988207e7fd9e0a486ff2f" title="These variables will be useful if DEBUGMODE is defined. ">cameraStartPosition</a>=<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>.back();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="group___camera.html#gad3319d9cd3cb00e898f4f602b879efad">cameraEndPosition</a>=<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>.front();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="code" href="classtest_app.html#a6dbcb5f1e47c842dfd1ab6b188097677">  506</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtest_app.html#a6dbcb5f1e47c842dfd1ab6b188097677">testApp::drawImages</a>()</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    std::multimap&lt;int,int&gt;::iterator it;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">int</span> imageIterator=0;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-1;i&gt;=0;i--) <span class="comment">// Draw images in reverse order ....</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        ofPushMatrix();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        ofTranslate(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1-i)].x,35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1-i)].y,35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1-i)].z); <span class="comment">// 35 gives good results .You can use a higher number for more spread ,but you have to change this number throughout this file.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].theloadedimage.draw(-<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].theloadedimage.getWidth()/2,-<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].theloadedimage.getHeight()/2);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        ofPopMatrix();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">#ifndef DEBUGMODE</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">// This function will animate the camera from one point in the spiral to another point </span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="code" href="group___camera.html#ga1facfe2200dae7ad147b8f9ab31f68c6">  531</a></span>&#160;ofVec3f <a class="code" href="group___camera.html#ga1facfe2200dae7ad147b8f9ab31f68c6">testApp::animate</a>(<span class="keywordtype">int</span> pos1, <span class="keywordtype">int</span> pos2)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordtype">float</span> smoothnessFactor=2400,timeInterval=10;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#ga21b16bdba744425519597fcb925df43a" title="Animation Counter that is operative while the animation is occuring. ">animationCounter</a>&lt;=smoothnessFactor-timeInterval)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    { <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a> = (<a class="code" href="group___camera.html#ga21b16bdba744425519597fcb925df43a" title="Animation Counter that is operative while the animation is occuring. ">animationCounter</a>) /smoothnessFactor;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="group___camera.html#ga21b16bdba744425519597fcb925df43a" title="Animation Counter that is operative while the animation is occuring. ">animationCounter</a>+=timeInterval;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>=0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="group___camera.html#ga2a5d49fd1f7f50f745f56095a1fa0099" title="checks whether the camera is currently transitioning to another picture or if it is stationary a...">animationMode</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getHeight()&gt;=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getWidth())</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">return</span> ofVec3f(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos2]+ofVec3f(0,0,1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getHeight())+<a class="code" href="group___wiggle.html#gacd718eb54b9dc2b45e463414c24de6b9">wiggle</a>());</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">return</span> ofVec3f(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos2]+ofVec3f(0,0,1.05*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getWidth())+<a class="code" href="group___wiggle.html#gacd718eb54b9dc2b45e463414c24de6b9">wiggle</a>());</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.x=ofLerp(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos1].x,35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos2].x,<a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.y=ofLerp(35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos1].y,35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos2].y,<a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// Setting the Z value ..</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos1].theloadedimage.getHeight()&gt;=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos1].theloadedimage.getWidth())</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="classtest_app.html#a808376783cdf510335cd1b37026e9bb3" title="Intermediate values that are used while tweening/animation of the camera positions. ">position1_z</a>=1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos1].theloadedimage.getHeight()+35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos1].z;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="classtest_app.html#a808376783cdf510335cd1b37026e9bb3" title="Intermediate values that are used while tweening/animation of the camera positions. ">position1_z</a>=1.05*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos1].theloadedimage.getWidth()+35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos1].z;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getHeight()&gt;=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getWidth())</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="classtest_app.html#a0720011cfaade6388109232ea4927c19">position2_z</a>=1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getHeight()+35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos2].z;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="classtest_app.html#a0720011cfaade6388109232ea4927c19">position2_z</a>=1.05*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-pos2].theloadedimage.getWidth()+35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*pos2].z;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.z=ofLerp(<a class="code" href="classtest_app.html#a808376783cdf510335cd1b37026e9bb3" title="Intermediate values that are used while tweening/animation of the camera positions. ">position1_z</a>,<a class="code" href="classtest_app.html#a0720011cfaade6388109232ea4927c19">position2_z</a>,<a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="code" href="group___camera.html#ga1a97063e992528dc79867e516d9365f0">  571</a></span>&#160;ofVec3f <a class="code" href="group___camera.html#ga1a97063e992528dc79867e516d9365f0">testApp::startAnimationCameraPosition</a>()</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;{</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">float</span> smoothnessFactor=35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].z +1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordtype">float</span> timeInterval=smoothnessFactor/1500;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>&lt;=smoothnessFactor-timeInterval)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a> = (<a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>) /smoothnessFactor;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>&lt;0.98)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>+=timeInterval;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>+=(timeInterval);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="classtest_app.html#a846feea7c2c4d4b1929bb72c546b3e19" title="The whole starting Animation consists of a few Components.A video played at the start,The zooming out effect from the end of the spiral and an overshot animation that will take the Camera to the highest ranked image that will be shown first during the experience. The below data structures are for for the OvershotCameraAnimation. ">overshotCameraStartingPosition</a>=<a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">//else isstartingAnimationActive=false;</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">else</span> {<a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>=0; <a class="code" href="classtest_app.html#ad2fca6ce5e37462cd820afc48633324d" title="When set,this will start the overshot camera animation. ">startoverShotCameraAnimation</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.x=ofLerp(0, 0 , <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.y=ofLerp(0, 0, <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.z=ofLerp(0, 35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].z +21.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight(), <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="code" href="classtest_app.html#ad4619d5025758886b4de4162c389dc7a">  603</a></span>&#160;<a class="code" href="classtest_app.html#ad4619d5025758886b4de4162c389dc7a">testApp::testApp</a>(<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classtest_app.html#a6ae76dc97fbeee00755f4a6cd6b87e19" title="The user&#39;s id that is passed at run-time.Only a long long int (max value 9223372036854775807) can sup...">userid</a>=id;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;\n User ID:&quot;</span>&lt;&lt;<span class="keywordtype">id</span>&lt;&lt;endl;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="code" href="group___wiggle.html#gaaa5c2175be1d5ca404c3c23a898d0cdd">  609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___wiggle.html#gaaa5c2175be1d5ca404c3c23a898d0cdd">testApp::pushWigglePositions</a>()</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// wigglePositions.push_back(ofVec3f(0,0,0));</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.push_back(ofVec3f(1,1,0));</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.push_back(ofVec3f(1,1,0));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.push_back(ofVec3f(0,1,0));</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.push_back(ofVec3f(0,1,0));</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.push_back(ofVec3f(1,0,0));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.push_back(ofVec3f(1,0,0));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="code" href="group___wiggle.html#gacd718eb54b9dc2b45e463414c24de6b9">  623</a></span>&#160;ofVec3f <a class="code" href="group___wiggle.html#gacd718eb54b9dc2b45e463414c24de6b9">testApp::wiggle</a>()</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordtype">int</span> maxValue=20; <span class="comment">// Change this for adjusting the maximum Value of Wiggling .</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// For every even value of currentwiggleindex,we move to the right, or down or bottom right. and move in left,up or top left for every odd index .</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// To change the wiggle motion Just change the wigglePositions points.  </span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>%2==0)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>&lt;=maxValue) </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>+=0.05; <span class="comment">// Increase the wiggleAnimationCounter till it reaches 20 </span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">else</span> { <span class="comment">// Once it reaches 20,advance the wiggleindex,The Image will wiggle to another direction </span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>++;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>=<a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>%<a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.size();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>=maxValue;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>&gt;=0)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>-=0.05 ;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>++;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>=<a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>%<a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>.size();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>=0;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="group___wiggle.html#gaf81358868ae15faab1974ec074b1509f" title="Current Wiggle POsition. ">currentwigglePosition</a>.x=<a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>[<a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>].x*<a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="group___wiggle.html#gaf81358868ae15faab1974ec074b1509f" title="Current Wiggle POsition. ">currentwigglePosition</a>.y=<a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>[<a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>].y*<a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="group___wiggle.html#gaf81358868ae15faab1974ec074b1509f" title="Current Wiggle POsition. ">currentwigglePosition</a>.z=<a class="code" href="group___wiggle.html#ga5495d37f44bb3e3b00a04ad5910e0a6b" title="Different wiggle Positions/Directions .Look at the wiggle() function for more details. ">wigglePositions</a>[<a class="code" href="group___wiggle.html#ga6b9af0b1ae4a2c0530eb6a8cf8340751" title="The current active index of the WigglePositions vector.The index determines the direction in which th...">currentwiggleindex</a>].z*<a class="code" href="group___wiggle.html#ga6073b33be7847d675ec089a1d514c506" title="A seperate animation counter for wiggling. ">wiggleAnimationCounter</a>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group___wiggle.html#gaf81358868ae15faab1974ec074b1509f" title="Current Wiggle POsition. ">currentwigglePosition</a>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="code" href="classtest_app.html#a3ea688a73ca9eb760a3f0a07fde0ac10">  665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtest_app.html#a3ea688a73ca9eb760a3f0a07fde0ac10">testApp::drawStars</a>()</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;{</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    ofSetColor(255, 255, 255);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classtest_app.html#a68d0d30cea64a9d39a1b2deef16677ad" title="Stores the positions of the stars. ">StarPositions</a>.size();i++)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        ofSphere(<a class="code" href="classtest_app.html#a68d0d30cea64a9d39a1b2deef16677ad" title="Stores the positions of the stars. ">StarPositions</a>[i], 1);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno"><a class="code" href="classtest_app.html#a57e6d61c73ba0244b9d7a8c227aec244">  674</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtest_app.html#a57e6d61c73ba0244b9d7a8c227aec244">testApp::assignStarPositions</a>()</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;10000;i++)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="classtest_app.html#a68d0d30cea64a9d39a1b2deef16677ad" title="Stores the positions of the stars. ">StarPositions</a>.push_back(ofVec3f(ofRandom(100000), ofRandom(10000),ofRandom(10000)));</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div>
<div class="line"><a name="l00682"></a><span class="lineno"><a class="code" href="classtest_app.html#aa93380112b906e2aac2d8738309b2d17">  682</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtest_app.html#aa93380112b906e2aac2d8738309b2d17">testApp::loadImagesandXMLData</a>()</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;{</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// Change this to your Directory Path </span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordtype">string</span> untaggedDirpath=<a class="code" href="test_app_8h.html#af1ac2cf7160dad9611b473a7966a8c66">PathToImageFolder</a>+ofToString(<a class="code" href="classtest_app.html#a6ae76dc97fbeee00755f4a6cd6b87e19" title="The user&#39;s id that is passed at run-time.Only a long long int (max value 9223372036854775807) can sup...">userid</a>)+<span class="stringliteral">&quot;/untaggedImages/&quot;</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    ofDirectory untaggeddir(untaggedDirpath);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    untaggeddir.allowExt(<span class="stringliteral">&quot;png&quot;</span>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    untaggeddir.allowExt(<span class="stringliteral">&quot;jpg&quot;</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    untaggeddir.allowExt(<span class="stringliteral">&quot;gif&quot;</span>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">if</span>(untaggeddir.listDir()==0)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// Debug Statements </span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;Nothing&quot;</span>;   ofExit();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    cout&lt;&lt;untaggeddir.listDir();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;NUMBER OF FILES&quot;</span>&lt;&lt;untaggeddir.numFiles()&lt;&lt;endl;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    ofImage TempImage;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordtype">int</span> imageCounter=0;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordtype">string</span> xmlpath=<a class="code" href="test_app_8h.html#af1ac2cf7160dad9611b473a7966a8c66">PathToImageFolder</a>+ofToString(<a class="code" href="classtest_app.html#a6ae76dc97fbeee00755f4a6cd6b87e19" title="The user&#39;s id that is passed at run-time.Only a long long int (max value 9223372036854775807) can sup...">userid</a>)+<span class="stringliteral">&quot;/imagedata.xml&quot;</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Just a temporary ImageData object </span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="struct_image_data.html">ImageData</a> imagedataObject;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// Parse the XML,Load all the UntaggedImages into the combinedImageObjects data structure .These images will be already sorted in descending order of their scores .</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.loadFile(xmlpath))</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.pushTag(<span class="stringliteral">&quot;xml&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.pushTag(<span class="stringliteral">&quot;ImageList&quot;</span>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.pushTag(<span class="stringliteral">&quot;Untagged&quot;</span>))</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0;j&lt;<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.getNumTags(<span class="stringliteral">&quot;Image&quot;</span>);j++)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.pushTag(<span class="stringliteral">&quot;Image&quot;</span>,j);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                imagedataObject.<a class="code" href="struct_image_data.html#a254eb9353be246c69591d51088683397">imageNumber</a>=imageCounter;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                imagedataObject.<a class="code" href="struct_image_data.html#a7161728d2f1bd4240bd9359f6276dd3b">imageScore</a>=<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.getValue(<span class="stringliteral">&quot;Score&quot;</span>,0.0);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                imagedataObject.<a class="code" href="struct_image_data.html#a372655668350953b85fda1f07cd3ffe1">albumnumber</a>=<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.getValue(<span class="stringliteral">&quot;AlbumNumber&quot;</span>,0);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.loadImage(ofToString(untaggedDirpath+ofToString(j)+<span class="stringliteral">&quot;.jpg&quot;</span>));</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.resize(imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.getWidth(), imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.getHeight());</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#ifndef BLUR</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor"></span>               </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.mirror(<span class="keyword">true</span>,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor"></span>          </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                <a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.push_back(imagedataObject);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.popTag();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                imageCounter++;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.popTag();    </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// Debug statement </span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    cout&lt;&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()&lt;&lt;<span class="stringliteral">&quot;\t this was the size of untaggedIamgeobjects&quot;</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classtest_app.html#ad4de5d6e6e8f3b8bb7424e62792deb1f" title="Will store the loaded images from the directory in a Vector. ">ImageVector</a>.clear();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    imageCounter=0;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordtype">string</span> taggedDirpath=<a class="code" href="test_app_8h.html#af1ac2cf7160dad9611b473a7966a8c66">PathToImageFolder</a>+ofToString(<a class="code" href="classtest_app.html#a6ae76dc97fbeee00755f4a6cd6b87e19" title="The user&#39;s id that is passed at run-time.Only a long long int (max value 9223372036854775807) can sup...">userid</a>)+<span class="stringliteral">&quot;/taggedImages/&quot;</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    ofDirectory taggeddir(taggedDirpath);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    taggeddir.allowExt(<span class="stringliteral">&quot;png&quot;</span>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    taggeddir.allowExt(<span class="stringliteral">&quot;jpg&quot;</span>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    taggeddir.allowExt(<span class="stringliteral">&quot;gif&quot;</span>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// Now all the Tagged images need to be linked and added to the data structure .</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.pushTag(<span class="stringliteral">&quot;Tagged&quot;</span>))</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0;j&lt;<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.getNumTags(<span class="stringliteral">&quot;Image&quot;</span>);j++)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.pushTag(<span class="stringliteral">&quot;Image&quot;</span>,j);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            imagedataObject.<a class="code" href="struct_image_data.html#a254eb9353be246c69591d51088683397">imageNumber</a>=imageCounter;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            imagedataObject.<a class="code" href="struct_image_data.html#a7161728d2f1bd4240bd9359f6276dd3b">imageScore</a>=<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.getValue(<span class="stringliteral">&quot;Score&quot;</span>,0.0);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            imagedataObject.<a class="code" href="struct_image_data.html#a372655668350953b85fda1f07cd3ffe1">albumnumber</a>=<a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.getValue(<span class="stringliteral">&quot;AlbumNumber&quot;</span>,0);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.loadImage(ofToString(taggedDirpath+ofToString(j)+<span class="stringliteral">&quot;.jpg&quot;</span>));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#ifndef BLUR</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="preprocessor"></span>            imagedataObject.<a class="code" href="struct_image_data.html#acf1bde00dd79a0960269618d9b885f61">theloadedimage</a>.mirror(<span class="keyword">true</span>,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor"></span>            </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <a class="code" href="classtest_app.html#af65c8dc2f4620bfe7fdf6a39043cb48d" title="Unused. ">taggedImageObjects</a>.push_back(imagedataObject);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="classtest_app.html#a85133f49103cfa002f39d882f7168236" title="To load the XML File that is downloaded by the NostalgiaRoom Website. ">pictures_XML</a>.popTag();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            imageCounter++;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    cout&lt;&lt;<a class="code" href="classtest_app.html#af65c8dc2f4620bfe7fdf6a39043cb48d" title="Unused. ">taggedImageObjects</a>.size()&lt;&lt;<span class="stringliteral">&quot;\t this was the size of taggedImgeobjects&quot;</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Now combine the untagged and Tagged in the correct ratio ..</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordtype">int</span> ratio= 3; <span class="comment">// This ratio defines how many images should be taken from the untagged Images compared to the TaggedImages .For every 2 untaggedimages,1 taggedimage is displayed.This usually strikes a nice balance based on our experience with 50 + users.However,it could be modified .    </span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordtype">int</span> untaggedImageCount=0,taggedImageCount=0,i;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordtype">int</span> num_untaggedImages=<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size(),num_taggedImages=<a class="code" href="classtest_app.html#af65c8dc2f4620bfe7fdf6a39043cb48d" title="Unused. ">taggedImageObjects</a>.size();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordtype">int</span> taggedImgCount=0;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;Combining and shuffling the tagged and untagged images&quot;</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// The below loop shuffles the images so that the structure based on the defined ratio</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size();i++)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordflow">if</span>(i%ratio==0&amp;&amp;i!=0&amp;&amp;taggedImgCount&lt;num_taggedImages)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.insert(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.begin()+i,<a class="code" href="classtest_app.html#af65c8dc2f4620bfe7fdf6a39043cb48d" title="Unused. ">taggedImageObjects</a>[taggedImgCount++]);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">//  Parse the data structure again,to make sure that no 2 images having the same albumnumber are next to each other.This is done so that different images are shown.This can be experimented with.Images from alternate albums have worked for us.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span> j,tempVal;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1;i++)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        j=i+1;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        cout&lt;&lt;i;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].albumnumber==<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[j].albumnumber)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            cout&lt;&lt;<span class="stringliteral">&quot;doing this when i= \t &quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].albumnumber&lt;&lt;<span class="stringliteral">&quot;\t&quot;</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">while</span>(j&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()-1&amp;&amp;(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].albumnumber==<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[j].albumnumber) &amp;&amp; (j-i)&lt;8) <span class="comment">// This is because j is</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                j++;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            cout&lt;&lt;<span class="stringliteral">&quot; and then j= \t&quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[j].albumnumber&lt;&lt;endl;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            std::swap(<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i+1], <a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[j]);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    cout&lt;&lt;<span class="stringliteral">&quot;Now checking the album numbers ,Size of the array = \t&quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size()&lt;&lt;endl;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>.size();i++)</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        cout&lt;&lt;<span class="stringliteral">&quot;Album number:&quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].albumnumber&lt;&lt;<span class="stringliteral">&quot;\t Score&quot;</span>&lt;&lt;<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[i].imageScore&lt;&lt;endl;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;       </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">/* This function will bring the cameraposition to the starting image once it has &#39;overshot&#39; while zooming out of the spiral */</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="code" href="group___camera.html#ga2a792bfdf269fd69951cbf97d4f574af">  847</a></span>&#160;ofVec3f <a class="code" href="group___camera.html#ga2a792bfdf269fd69951cbf97d4f574af">testApp::adjustoverShotCameraPosition</a>()</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;{</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordtype">float</span> smoothnessFactor=35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].z +1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordtype">float</span> timeInterval=smoothnessFactor/500;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">//    cout&lt;&lt;&quot;smoothness factor\n&quot;&lt;&lt;smoothnessFactor;</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>&lt;=smoothnessFactor-timeInterval)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        cout&lt;&lt;<span class="stringliteral">&quot;\nCamera Position&quot;</span>&lt;&lt; <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.z;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a> = (<a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>) /smoothnessFactor;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>&lt;0.98)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>+=timeInterval;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="group___camera.html#ga577bf117cf10109de967ea0d3ca17f1f" title="During the starting animation,the StartAnimationCounter will change the tweenvalue which in turn sets...">startAnimationCounter</a>+=(timeInterval);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">else</span> {<a class="code" href="group___camera.html#gab8a277e1055730fb5d6786ce0c4804b2" title="If set,this variable will start the Animation of the spiral zooming out. ">isstartingAnimationActive</a>=<span class="keyword">false</span>;<a class="code" href="classtest_app.html#ad2fca6ce5e37462cd820afc48633324d" title="When set,this will start the overshot camera animation. ">startoverShotCameraAnimation</a>=<span class="keyword">false</span>;}</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.x=ofLerp(0, 35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].x, <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.y=ofLerp(0, 35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].y, <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>.z=ofLerp(<a class="code" href="classtest_app.html#a846feea7c2c4d4b1929bb72c546b3e19" title="The whole starting Animation consists of a few Components.A video played at the start,The zooming out effect from the end of the spiral and an overshot animation that will take the Camera to the highest ranked image that will be shown first during the experience. The below data structures are for for the OvershotCameraAnimation. ">overshotCameraStartingPosition</a>.z, 35*<a class="code" href="classtest_app.html#af0dd2f3e3aabdb43bee49d74c156dc05" title="These are Spiralpoints generated using the Conical Helix function. ">SpiralPoints</a>[700*<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].z +1.6*<a class="code" href="classtest_app.html#aced9b8a8419c8465877c2c9cd43f8934" title="The actual data structure that is used for storing the ImageData objects. ">combinedImageObjects</a>[<a class="code" href="classtest_app.html#a957cf7fdb3ea964a88ca1be13e4d68fc" title="Number of images loaded in the ImageVector data structure. ">numberofImages</a>-<a class="code" href="group___camera.html#ga4ca3a51642dedbf37f2b9f6ef96510c7" title="The Cameraindex value,this make the camera go from one image/position to another. ...">cameraindex</a>].theloadedimage.getHeight(), <a class="code" href="group___camera.html#gadd9ab1aa902948afbdf1c6db0dfde385" title="stores intermediate tweenvalues for all animations ">tweenvalue</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group___camera.html#gae9f60797c1c5d9f1ac06e1d6a5259957" title="Stores the temporary camera position while tweening(interpolating camera position while moving from 1...">tweenedCameraPosition</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 14 2013 21:13:37 for NostalgiaRoom docs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
